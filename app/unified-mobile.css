/* Unified Mobile Styles - Ensures Desktop/Mobile Parity */

/* ==================== */
/* Global Mobile Reset */
/* ==================== */
@media screen and (max-width: 768px) {
  /* Preserve Masters color scheme exactly */
  :root {
    --masters-pine: #004B36 !important;
    --masters-fairway: #006747 !important;
    --masters-charcoal: #2C312E !important;
    --masters-slate: #4A5247 !important;
    --masters-sand: #F5F2ED !important;
    --masters-gold: #D4A574 !important;
    --masters-cream: #FDFDF8 !important;
    --masters-stone: #E5E2DC !important;
    --masters-beige: #FAF7F2 !important;
    --masters-light-beige: #FBF9F5 !important;
  }

  /* Reset any mobile-specific overrides */
  * {
    -webkit-text-size-adjust: 100% !important;
    text-size-adjust: 100% !important;
  }

  /* Ensure backgrounds match desktop */
  body {
    background: var(--masters-cream) !important;
    color: var(--masters-slate) !important;
  }

  /* Fix text colors globally */
  .text-masters-pine { color: var(--masters-pine) !important; }
  .text-masters-charcoal { color: var(--masters-charcoal) !important; }
  .text-masters-slate { color: var(--masters-slate) !important; }
  .text-masters-gold { color: var(--masters-gold) !important; }

  /* Fix background colors globally */
  .bg-masters-pine { background-color: var(--masters-pine) !important; }
  .bg-masters-sand { background-color: var(--masters-sand) !important; }
  .bg-masters-cream { background-color: var(--masters-cream) !important; }
  .bg-masters-beige { background-color: var(--masters-beige) !important; }
  .bg-masters-light-beige { background-color: var(--masters-light-beige) !important; }

  /* Fix border colors globally */
  .border-masters-pine { border-color: var(--masters-pine) !important; }
  .border-masters-stone { border-color: var(--masters-stone) !important; }
}

/* ==================== */
/* Typography Consistency */
/* ==================== */
@media screen and (max-width: 768px) {
  /* Maintain desktop font hierarchy */
  .miux-heading {
    font-size: clamp(2.25rem, 7vw, 3rem) !important;
    font-weight: 200 !important;
    letter-spacing: -0.03em !important;
    line-height: 1.1 !important;
    color: var(--masters-charcoal) !important;
  }

  .miux-subheading {
    font-size: clamp(1.25rem, 4.5vw, 1.75rem) !important;
    font-weight: 300 !important;
    line-height: 1.3 !important;
    color: var(--masters-slate) !important;
    opacity: 0.9 !important;
  }

  .miux-body {
    font-size: 1rem !important;
    line-height: 1.6 !important;
    color: var(--masters-slate) !important;
  }

  /* Fix heading sizes */
  h1 {
    font-size: clamp(2rem, 6vw, 2.5rem) !important;
    color: var(--masters-charcoal) !important;
  }

  h2 {
    font-size: clamp(1.5rem, 5vw, 2rem) !important;
    color: var(--masters-charcoal) !important;
  }

  h3 {
    font-size: clamp(1.25rem, 4vw, 1.5rem) !important;
    color: var(--masters-charcoal) !important;
  }

  /* Ensure text is always readable */
  p, span, div {
    min-font-size: 14px;
  }
}

/* ==================== */
/* Component Consistency */
/* ==================== */
@media screen and (max-width: 768px) {
  /* Hero Section */
  .miux-hero {
    background: linear-gradient(135deg, 
      var(--masters-light-beige) 0%,
      white 50%,
      var(--masters-sand) 100%) !important;
  }

  /* Cards should match desktop */
  .format-card-simple,
  .miux-card,
  .glass-card {
    background: white !important;
    border: 2px solid rgba(0, 75, 54, 0.1) !important;
    border-radius: 12px !important;
    padding: 1.25rem !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05) !important;
  }

  /* Buttons should maintain style */
  .miux-button,
  .btn-clip {
    background: white !important;
    color: var(--masters-pine) !important;
    border: 2px solid var(--masters-pine) !important;
    border-radius: 8px !important;
    padding: 0.875rem 1.5rem !important;
    font-weight: 500 !important;
    min-height: 48px !important;
  }

  .miux-button:active,
  .btn-clip:active {
    background: var(--masters-pine) !important;
    color: white !important;
    transform: scale(0.98);
  }

  /* Navigation */
  header {
    background: rgba(255, 255, 255, 0.98) !important;
    backdrop-filter: blur(12px) !important;
    -webkit-backdrop-filter: blur(12px) !important;
    border-bottom: 1px solid rgba(0, 75, 54, 0.1) !important;
  }

  /* Links */
  a {
    color: var(--masters-pine) !important;
    text-decoration: none !important;
  }

  /* Sections */
  section {
    background: transparent !important;
  }

  /* Interactive elements */
  .interactive-gallery-card {
    background: white !important;
    border: 2px solid rgba(0, 75, 54, 0.1) !important;
  }

  /* Horizontal scroll cards */
  .horizontal-scroll-section .group {
    background: white !important;
    border: 1px solid var(--masters-stone) !important;
  }
}

/* ==================== */
/* Layout Consistency */
/* ==================== */
@media screen and (max-width: 768px) {
  /* Container widths */
  .container-masters,
  .max-w-7xl,
  .max-w-6xl,
  .max-w-5xl {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }

  /* Grid layouts */
  .grid {
    gap: 1rem !important;
  }

  .grid-cols-1 {
    grid-template-columns: 1fr !important;
  }

  /* Spacing consistency */
  .py-16 { padding-top: 3rem !important; padding-bottom: 3rem !important; }
  .py-12 { padding-top: 2.5rem !important; padding-bottom: 2.5rem !important; }
  .py-8 { padding-top: 2rem !important; padding-bottom: 2rem !important; }
  .px-6 { padding-left: 1rem !important; padding-right: 1rem !important; }
  .px-4 { padding-left: 1rem !important; padding-right: 1rem !important; }

  /* Margins */
  .mb-8 { margin-bottom: 2rem !important; }
  .mb-6 { margin-bottom: 1.5rem !important; }
  .mb-4 { margin-bottom: 1rem !important; }
}

/* ==================== */
/* iPhone Specific Fixes */
/* ==================== */
@supports (-webkit-touch-callout: none) {
  /* iOS Status Bar */
  body {
    padding-top: env(safe-area-inset-top);
  }

  /* Prevent zoom on inputs */
  input, textarea, select {
    font-size: 16px !important;
  }

  /* Fix iOS tap highlight */
  * {
    -webkit-tap-highlight-color: transparent !important;
  }

  /* Smooth scrolling */
  .scrollable,
  .overflow-x-auto,
  .overflow-y-auto {
    -webkit-overflow-scrolling: touch !important;
  }

  /* Fix position fixed elements */
  .fixed {
    position: -webkit-sticky !important;
    position: sticky !important;
  }

  /* Ensure text remains crisp */
  * {
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
  }
}

/* ==================== */
/* Animation Consistency */
/* ==================== */
@media screen and (max-width: 768px) {
  /* Reduce animation complexity but maintain feel */
  * {
    animation-duration: 0.3s !important;
    transition-duration: 0.3s !important;
  }

  /* Disable parallax */
  .parallax-element {
    transform: none !important;
  }

  /* Simplify hover states to active states */
  @media (hover: none) {
    [class*="hover:scale"]:hover,
    [class*="hover:shadow"]:hover {
      transform: none !important;
      box-shadow: none !important;
    }

    [class*="hover:scale"]:active,
    [class*="hover:shadow"]:active {
      transform: scale(0.98) !important;
    }
  }

  /* Maintain transitions */
  .transition-all {
    transition-property: all !important;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important;
    transition-duration: 0.3s !important;
  }
}

/* ==================== */
/* Touch Interaction Improvements */
/* ==================== */
@media (pointer: coarse) {
  /* Increase touch targets */
  button, a, [role="button"] {
    min-height: 44px !important;
    min-width: 44px !important;
  }

  /* Add touch feedback */
  button:active,
  a:active,
  .clickable:active {
    transform: scale(0.98);
    opacity: 0.9;
  }

  /* Improve scroll areas */
  .overflow-x-auto {
    scroll-snap-type: x mandatory;
    scroll-padding: 0 1rem;
  }

  .overflow-x-auto > * {
    scroll-snap-align: start;
  }
}

/* ==================== */
/* Critical Overrides */
/* ==================== */
@media screen and (max-width: 768px) {
  /* Force color consistency */
  .text-white { color: white !important; }
  .text-black { color: black !important; }
  
  /* Ensure gradients work */
  .bg-gradient-to-b,
  .bg-gradient-to-t,
  .bg-gradient-to-r,
  .bg-gradient-to-l {
    background-attachment: fixed !important;
  }

  /* Fix z-index stacking */
  header { z-index: 50 !important; }
  .modal { z-index: 100 !important; }
  .tooltip { z-index: 200 !important; }
  
  /* Ensure images scale properly */
  img {
    max-width: 100% !important;
    height: auto !important;
  }

  /* Fix flex layouts */
  .flex {
    display: flex !important;
  }

  .flex-col {
    flex-direction: column !important;
  }

  .items-center {
    align-items: center !important;
  }

  .justify-center {
    justify-content: center !important;
  }

  .justify-between {
    justify-content: space-between !important;
  }
}

/* ==================== */
/* Debug Helpers */
/* ==================== */
.mobile-debug-border {
  border: 2px solid red !important;
}

.mobile-debug-bg {
  background: rgba(255, 0, 0, 0.1) !important;
}

@media screen and (max-width: 768px) {
  .mobile-only {
    display: block !important;
  }

  .desktop-only {
    display: none !important;
  }
}

@media screen and (min-width: 769px) {
  .mobile-only {
    display: none !important;
  }

  .desktop-only {
    display: block !important;
  }
}